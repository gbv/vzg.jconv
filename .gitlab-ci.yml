py11-pytest:
  image: python:3.11
  script:
    - apt-get update -q -y
    - pip install pytest
    - pip install .
    - mkdir -p data/tests/springer data/tests/emerald data/tests/degruyter
    - cp "$JCONV_SPRINGER_ARTICLE" data/tests/springer/article.xml
    - cp "$JCONV_SPRINGER_ARTICLE_EPUP_JSON" data/tests/springer/article_epub.json
    - cp "$JCONV_SPRINGER_ARTICLE_PPUP_JSON" data/tests/springer/article_ppub.json
    - cp "$JCONV_SPRINGER_ARTICLE_EPUP_PUBLISHER_JSON" data/tests/springer/article_epub_publisher.json
    - cp "$JCONV_SPRINGER_PERSON" data/tests/springer/person.xml
    - cp "$JCONV_EMERALD_ARTICLE" data/tests/emerald/article_emerald.xml
    - cp "$JCONV_DEGRUYTER_ARTICLE" data/tests/springer/article.xml
    - cp "$JCONV_DEGRUYTER_ARTICLE_EPUP_JSON" data/tests/springer/article_epub.json
    - cp "$JCONV_DEGRUYTER_ARTICLE_PPUP_JSON" data/tests/springer/article_ppub.json
    - ls -lsh data/tests/springer/
    - pytest --pyargs vzg.jconv
